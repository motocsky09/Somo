<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/Controllers/ClientsController.cs">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/Controllers/ClientsController.cs" />
              <option name="originalContent" value="using Microsoft.AspNetCore.Mvc;&#10;using Somo.Server.Entities;&#10;using Somo.Server.Repositories;&#10;&#10;namespace Somo.Server.Controllers&#10;{&#10;    [ApiController]&#10;    [Route(&quot;api/[controller]&quot;)]&#10;    public class ClientsController : ControllerBase&#10;    {&#10;        private readonly IRepository&lt;Client&gt; _clientRepository;&#10;&#10;        public ClientsController(IRepository&lt;Client&gt; clientRepository)&#10;        {&#10;            _clientRepository = clientRepository;&#10;        }&#10;&#10;        [HttpGet]&#10;        public async Task&lt;IActionResult&gt; GetAll()&#10;        {&#10;            var clients = await _clientRepository.GetAllAsync();&#10;            return Ok(clients);&#10;        }&#10;&#10;        [HttpGet(&quot;{id}&quot;)]&#10;        public async Task&lt;IActionResult&gt; GetById(string id)&#10;        {&#10;            var client = await _clientRepository.GetByIdAsync(id);&#10;            if (client == null)&#10;            {&#10;                return NotFound();&#10;            }&#10;            return Ok(client);&#10;        }&#10;&#10;        [HttpPost]&#10;        public async Task&lt;IActionResult&gt; Create([FromBody] Client client)&#10;        {&#10;            if (client == null)&#10;            {&#10;                return BadRequest();&#10;            }&#10;&#10;            await _clientRepository.AddAsync(client);&#10;            return CreatedAtAction(nameof(GetById), new { id = client.Id }, client);&#10;        }&#10;&#10;        [HttpPut(&quot;{id}&quot;)]&#10;        public async Task&lt;IActionResult&gt; Update(string id, [FromBody] Client client)&#10;        {&#10;            if (client == null || id != client.Id)&#10;            {&#10;                return BadRequest();&#10;            }&#10;&#10;            var existingClient = await _clientRepository.GetByIdAsync(id);&#10;            if (existingClient == null)&#10;            {&#10;                return NotFound();&#10;            }&#10;&#10;            await _clientRepository.UpdateAsync(id, client);&#10;            return NoContent();&#10;        }&#10;&#10;        [HttpDelete(&quot;{id}&quot;)]&#10;        public async Task&lt;IActionResult&gt; Delete(string id)&#10;        {&#10;            var existingClient = await _clientRepository.GetByIdAsync(id);&#10;            if (existingClient == null)&#10;            {&#10;                return NotFound();&#10;            }&#10;&#10;            await _clientRepository.DeleteAsync(id);&#10;            return NoContent();&#10;        }&#10;    }&#10;}&#10;&#10;" />
              <option name="updatedContent" value="using Microsoft.AspNetCore.Mvc;&#10;using Somo.Server.Entities;&#10;using Somo.Server.Repositories;&#10;&#10;namespace Somo.Server.Controllers&#10;{&#10;    [ApiController]&#10;    [Route(&quot;api/[controller]&quot;)]&#10;    public class ClientsController : ControllerBase&#10;    {&#10;        private readonly IClientRepository _clientRepository;&#10;&#10;        public ClientsController(IClientRepository clientRepository)&#10;        {&#10;            _clientRepository = clientRepository;&#10;        }&#10;&#10;        [HttpGet]&#10;        public async Task&lt;IActionResult&gt; GetAll()&#10;        {&#10;            var clients = await _clientRepository.GetAllAsync();&#10;            return Ok(clients);&#10;        }&#10;&#10;        [HttpGet(&quot;{id}&quot;)]&#10;        public async Task&lt;IActionResult&gt; GetById(string id)&#10;        {&#10;            var client = await _clientRepository.GetByIdAsync(id);&#10;            if (client == null)&#10;            {&#10;                return NotFound();&#10;            }&#10;            return Ok(client);&#10;        }&#10;&#10;        [HttpPost]&#10;        public async Task&lt;IActionResult&gt; Create([FromBody] Client client)&#10;        {&#10;            if (client == null)&#10;            {&#10;                return BadRequest();&#10;            }&#10;&#10;            await _clientRepository.CreateAsync(client);&#10;            return CreatedAtAction(nameof(GetById), new { id = client.Id }, client);&#10;        }&#10;&#10;        [HttpPut(&quot;{id}&quot;)]&#10;        public async Task&lt;IActionResult&gt; Update(string id, [FromBody] Client client)&#10;        {&#10;            if (client == null || id != client.Id)&#10;            {&#10;                return BadRequest();&#10;            }&#10;&#10;            var existingClient = await _clientRepository.GetByIdAsync(id);&#10;            if (existingClient == null)&#10;            {&#10;                return NotFound();&#10;            }&#10;&#10;            await _clientRepository.UpdateAsync(id, client);&#10;            return NoContent();&#10;        }&#10;&#10;        [HttpDelete(&quot;{id}&quot;)]&#10;        public async Task&lt;IActionResult&gt; Delete(string id)&#10;        {&#10;            var existingClient = await _clientRepository.GetByIdAsync(id);&#10;            if (existingClient == null)&#10;            {&#10;                return NotFound();&#10;            }&#10;&#10;            await _clientRepository.RemoveAsync(id);&#10;            return NoContent();&#10;        }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/Entities/Admin.cs">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/Entities/Admin.cs" />
              <option name="updatedContent" value="using MongoDB.Bson;&#10;using MongoDB.Bson.Serialization.Attributes;&#10;&#10;namespace Somo.Server.Entities&#10;{&#10;    public class Admin&#10;    {&#10;        [BsonId]&#10;        [BsonRepresentation(BsonType.ObjectId)]&#10;        public string Id { get; set; }&#10;&#10;        [BsonElement(&quot;username&quot;)]&#10;        public string Username { get; set; }&#10;&#10;        [BsonElement(&quot;email&quot;)]&#10;        public string Email { get; set; }&#10;&#10;        [BsonElement(&quot;passwordHash&quot;)]&#10;        public string PasswordHash { get; set; }&#10;&#10;        [BsonElement(&quot;role&quot;)]&#10;        public string Role { get; set; }&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/Entities/Client.cs">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/Entities/Client.cs" />
              <option name="updatedContent" value="using MongoDB.Bson;&#10;using MongoDB.Bson.Serialization.Attributes;&#10;&#10;namespace Somo.Server.Entities&#10;{&#10;    public class Client&#10;    {&#10;        [BsonId]&#10;        [BsonRepresentation(BsonType.ObjectId)]&#10;        public string Id { get; set; }&#10;&#10;        [BsonElement(&quot;firstName&quot;)]&#10;        public string FirstName { get; set; }&#10;&#10;        [BsonElement(&quot;lastName&quot;)]&#10;        public string LastName { get; set; }&#10;&#10;        [BsonElement(&quot;cnp&quot;)]&#10;        public string CNP { get; set; }&#10;&#10;        [BsonElement(&quot;gender&quot;)]&#10;        public string Gender { get; set; }&#10;&#10;        [BsonElement(&quot;citizenship&quot;)]&#10;        public string Citizenship { get; set; }&#10;&#10;        [BsonElement(&quot;age&quot;)]&#10;        public int Age { get; set; }&#10;&#10;        [BsonElement(&quot;address&quot;)]&#10;        public string Address { get; set; }&#10;&#10;        [BsonElement(&quot;city&quot;)]&#10;        public string City { get; set; }&#10;&#10;        [BsonElement(&quot;postalCode&quot;)]&#10;        public string PostalCode { get; set; }&#10;&#10;        [BsonElement(&quot;county&quot;)]&#10;        public string County { get; set; }&#10;&#10;        [BsonElement(&quot;country&quot;)]&#10;        public string Country { get; set; }&#10;&#10;        [BsonElement(&quot;phoneNumber&quot;)]&#10;        public string PhoneNumber { get; set; }&#10;&#10;        [BsonElement(&quot;email&quot;)]&#10;        public string Email { get; set; }&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/Entities/UserAccount.cs">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/Entities/UserAccount.cs" />
              <option name="updatedContent" value="using MongoDB.Bson;&#10;using MongoDB.Bson.Serialization.Attributes;&#10;&#10;namespace Somo.Server.Entities&#10;{&#10;    public class UserAccount&#10;    {&#10;        [BsonId]&#10;        [BsonRepresentation(BsonType.ObjectId)]&#10;        public string Id { get; set; }&#10;&#10;        [BsonElement(&quot;username&quot;)]&#10;        public string Username { get; set; }&#10;&#10;        [BsonElement(&quot;email&quot;)]&#10;        public string Email { get; set; }&#10;&#10;        [BsonElement(&quot;passwordHash&quot;)]&#10;        public string PasswordHash { get; set; }&#10;&#10;        [BsonElement(&quot;isActive&quot;)]&#10;        public bool IsActive { get; set; }&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/Program.cs">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/Program.cs" />
              <option name="originalContent" value="using MongoDB.Driver;&#10;using Somo.Server.Repositories;&#10;&#10;var builder = WebApplication.CreateBuilder(args);&#10;&#10;// Add services to the container.&#10;// Learn more about configuring Swagger/OpenAPI at https://aka.ms/aspnetcore/swashbuckle&#10;builder.Services.AddEndpointsApiExplorer();&#10;builder.Services.AddSwaggerGen();&#10;&#10;// Configure MongoDB connection&#10;var mongoConnectionString = builder.Configuration.GetConnectionString(&quot;MongoDb&quot;);&#10;var mongoDatabaseName = builder.Configuration[&quot;MongoDbSettings:DatabaseName&quot;];&#10;builder.Services.AddSingleton&lt;IMongoClient&gt;(sp =&gt; new MongoClient(mongoConnectionString));&#10;builder.Services.AddScoped(sp =&gt;&#10;{&#10;    var client = sp.GetRequiredService&lt;IMongoClient&gt;();&#10;    return client.GetDatabase(mongoDatabaseName);&#10;});&#10;&#10;// Register repositories and interfaces for Dependency Injection&#10;builder.Services.AddScoped&lt;IClientRepository, ClientRepository&gt;();&#10;builder.Services.AddScoped&lt;IAdminRepository, AdminRepository&gt;();&#10;builder.Services.AddScoped&lt;IUserAccountRepository, UserAccountRepository&gt;();&#10;&#10;// Register MongoRepository as the implementation for IRepository&#10;builder.Services.AddScoped(typeof(IRepository&lt;&gt;), typeof(MongoRepository&lt;&gt;));&#10;&#10;var app = builder.Build();&#10;&#10;// Configure the HTTP request pipeline.&#10;if (app.Environment.IsDevelopment())&#10;{&#10;    app.UseSwagger();&#10;    app.UseSwaggerUI();&#10;}&#10;&#10;// app.UseHttpsRedirection();  // Disabled for development&#10;&#10;var summaries = new[]&#10;{&#10;    &quot;Freezing&quot;, &quot;Bracing&quot;, &quot;Chilly&quot;, &quot;Cool&quot;, &quot;Mild&quot;, &quot;Warm&quot;, &quot;Balmy&quot;, &quot;Hot&quot;, &quot;Sweltering&quot;, &quot;Scorching&quot;&#10;};&#10;&#10;app.MapGet(&quot;/weatherforecast&quot;, () =&gt;&#10;{&#10;    var forecast =  Enumerable.Range(1, 5).Select(index =&gt;&#10;        new WeatherForecast&#10;        (&#10;            DateOnly.FromDateTime(DateTime.Now.AddDays(index)),&#10;            Random.Shared.Next(-20, 55),&#10;            summaries[Random.Shared.Next(summaries.Length)]&#10;        ))&#10;        .ToArray();&#10;    return forecast;&#10;})&#10;.WithName(&quot;GetWeatherForecast&quot;)&#10;.WithOpenApi();&#10;&#10;app.Run();&#10;&#10;record WeatherForecast(DateOnly Date, int TemperatureC, string? Summary)&#10;{&#10;    public int TemperatureF =&gt; 32 + (int)(TemperatureC / 0.5556);&#10;}&#10;" />
              <option name="updatedContent" value="using MongoDB.Driver;&#10;using Somo.Server.Repositories;&#10;&#10;var builder = WebApplication.CreateBuilder(args);&#10;&#10;// Add services to the container.&#10;// Learn more about configuring Swagger/OpenAPI at https://aka.ms/aspnetcore/swashbuckle&#10;builder.Services.AddEndpointsApiExplorer();&#10;builder.Services.AddSwaggerGen();&#10;&#10;// Configure MongoDB connection&#10;var mongoConnectionString = builder.Configuration.GetConnectionString(&quot;MongoDb&quot;);&#10;var mongoDatabaseName = builder.Configuration[&quot;MongoDbSettings:DatabaseName&quot;];&#10;builder.Services.AddSingleton&lt;IMongoClient&gt;(sp =&gt; new MongoClient(mongoConnectionString));&#10;builder.Services.AddScoped(sp =&gt;&#10;{&#10;    var client = sp.GetRequiredService&lt;IMongoClient&gt;();&#10;    return client.GetDatabase(mongoDatabaseName);&#10;});&#10;&#10;// Register repositories and interfaces for Dependency Injection&#10;builder.Services.AddScoped&lt;IClientRepository, ClientRepository&gt;();&#10;builder.Services.AddScoped&lt;IAdminRepository, AdminRepository&gt;();&#10;builder.Services.AddScoped&lt;IUserAccountRepository, UserAccountRepository&gt;();&#10;&#10;// Register MongoRepository as the implementation for IRepository&#10;builder.Services.AddScoped(typeof(IRepository&lt;&gt;), typeof(MongoRepository&lt;&gt;));&#10;&#10;var app = builder.Build();&#10;&#10;// Configure the HTTP request pipeline.&#10;if (app.Environment.IsDevelopment())&#10;{&#10;    app.UseSwagger();&#10;    app.UseSwaggerUI();&#10;}&#10;&#10;// app.UseHttpsRedirection();  // Disabled for development&#10;&#10;var summaries = new[]&#10;{&#10;    &quot;Freezing&quot;, &quot;Bracing&quot;, &quot;Chilly&quot;, &quot;Cool&quot;, &quot;Mild&quot;, &quot;Warm&quot;, &quot;Balmy&quot;, &quot;Hot&quot;, &quot;Sweltering&quot;, &quot;Scorching&quot;&#10;};&#10;&#10;app.MapGet(&quot;/weatherforecast&quot;, () =&gt;&#10;{&#10;    var forecast =  Enumerable.Range(1, 5).Select(index =&gt;&#10;        new WeatherForecast&#10;        (&#10;            DateOnly.FromDateTime(DateTime.Now.AddDays(index)),&#10;            Random.Shared.Next(-20, 55),&#10;            summaries[Random.Shared.Next(summaries.Length)]&#10;        ))&#10;        .ToArray();&#10;    return forecast;&#10;})&#10;.WithName(&quot;GetWeatherForecast&quot;)&#10;.WithOpenApi();&#10;&#10;// Initialize the database&#10;await DbSeeder.InitializeAsync(app);&#10;&#10;app.Run();&#10;&#10;record WeatherForecast(DateOnly Date, int TemperatureC, string? Summary)&#10;{&#10;    public int TemperatureF =&gt; 32 + (int)(TemperatureC / 0.5556);&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/Repositories/AdminRepository.cs">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/Repositories/AdminRepository.cs" />
              <option name="originalContent" value="using MongoDB.Driver;&#10;using Somo.Server.Entities;&#10;&#10;namespace Somo.Server.Repositories&#10;{&#10;    public class AdminRepository : MongoRepository&lt;Admin&gt;, IAdminRepository&#10;    {&#10;        public AdminRepository(IMongoDatabase database) : base(database, &quot;Admins&quot;)&#10;        {&#10;        }&#10;    }&#10;}&#10;&#10;" />
              <option name="updatedContent" value="using MongoDB.Driver;&#10;using Somo.Server.Entities;&#10;&#10;namespace Somo.Server.Repositories&#10;{&#10;    public class AdminRepository : MongoRepository&lt;Admin&gt;, IAdminRepository&#10;    {&#10;        public AdminRepository(IMongoDatabase database) : base(database, &quot;Admins&quot;)&#10;        {&#10;        }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/Repositories/ClientRepository.cs">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/Repositories/ClientRepository.cs" />
              <option name="originalContent" value="using MongoDB.Driver;&#10;using Somo.Server.Entities;&#10;using Somo.Server.Repositories; // Ensure the namespace for IClientRepository is included&#10;&#10;namespace Somo.Server.Repositories&#10;{&#10;    public class ClientRepository : MongoRepository&lt;Client&gt;, IClientRepository&#10;    {&#10;        public ClientRepository(IMongoDatabase database) : base(database, &quot;Clients&quot;)&#10;        {&#10;        }&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="using MongoDB.Driver;&#10;using Somo.Server.Entities;&#10;&#10;namespace Somo.Server.Repositories&#10;{&#10;    public class ClientRepository : MongoRepository&lt;Client&gt;, IClientRepository&#10;    {&#10;        public ClientRepository(IMongoDatabase database) : base(database, &quot;Clients&quot;)&#10;        {&#10;        }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/Repositories/IAdminRepository.cs">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/Repositories/IAdminRepository.cs" />
              <option name="updatedContent" value="using Somo.Server.Entities;&#10;&#10;namespace Somo.Server.Repositories&#10;{&#10;    public interface IAdminRepository : IRepository&lt;Admin&gt;&#10;    {&#10;        // Add any additional methods specific to Admin if needed&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/Repositories/IClientRepository.cs">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/Repositories/IClientRepository.cs" />
              <option name="updatedContent" value="using Somo.Server.Entities;&#10;&#10;namespace Somo.Server.Repositories&#10;{&#10;    public interface IClientRepository : IRepository&lt;Client&gt;&#10;    {&#10;        // Add any additional methods specific to Client if needed&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/Repositories/IRepository.cs">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/Repositories/IRepository.cs" />
              <option name="originalContent" value="using System.Linq.Expressions;&#10;&#10;namespace Somo.Server.Repositories&#10;{&#10;    public interface IRepository&lt;T&gt; where T : class&#10;    {&#10;        Task&lt;IEnumerable&lt;T&gt;&gt; GetAllAsync();&#10;        Task&lt;T&gt; GetByIdAsync(string id);&#10;        Task&lt;IEnumerable&lt;T&gt;&gt; FindAsync(Expression&lt;Func&lt;T, bool&gt;&gt; predicate);&#10;        Task AddAsync(T entity);&#10;        Task UpdateAsync(string id, T entity);&#10;        Task DeleteAsync(string id);&#10;    }&#10;}&#10;&#10;" />
              <option name="updatedContent" value="using System.Linq.Expressions;&#10;&#10;namespace Somo.Server.Repositories&#10;{&#10;    public interface IRepository&lt;T&gt; where T : class&#10;    {&#10;        Task&lt;IEnumerable&lt;T&gt;&gt; GetAllAsync();&#10;        Task&lt;T&gt; GetByIdAsync(string id);&#10;        Task CreateAsync(T entity);&#10;        Task UpdateAsync(string id, T entity);&#10;        Task RemoveAsync(string id);&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/Repositories/IUserAccountRepository.cs">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/Repositories/IUserAccountRepository.cs" />
              <option name="updatedContent" value="using Somo.Server.Entities;&#10;&#10;namespace Somo.Server.Repositories&#10;{&#10;    public interface IUserAccountRepository : IRepository&lt;UserAccount&gt;&#10;    {&#10;        // Add any additional methods specific to UserAccount if needed&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/Repositories/MongoRepository.cs">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/Repositories/MongoRepository.cs" />
              <option name="originalContent" value="using MongoDB.Bson;&#10;using MongoDB.Driver;&#10;using System.Linq.Expressions;&#10;&#10;namespace Somo.Server.Repositories&#10;{&#10;    public class MongoRepository&lt;T&gt; : IRepository&lt;T&gt; where T : class&#10;    {&#10;        private readonly IMongoCollection&lt;T&gt; _collection;&#10;&#10;        public MongoRepository(IMongoDatabase database)&#10;        {&#10;            var collectionName = typeof(T).Name + &quot;s&quot;; // Default collection name is the pluralized class name&#10;            _collection = database.GetCollection&lt;T&gt;(collectionName);&#10;        }&#10;&#10;        public async Task&lt;IEnumerable&lt;T&gt;&gt; GetAllAsync()&#10;        {&#10;            return await _collection.Find(new BsonDocument()).ToListAsync();&#10;        }&#10;&#10;        public async Task&lt;T&gt; GetByIdAsync(string id)&#10;        {&#10;            var filter = Builders&lt;T&gt;.Filter.Eq(&quot;_id&quot;, ObjectId.Parse(id));&#10;            return await _collection.Find(filter).FirstOrDefaultAsync();&#10;        }&#10;&#10;        public async Task&lt;IEnumerable&lt;T&gt;&gt; FindAsync(Expression&lt;Func&lt;T, bool&gt;&gt; predicate)&#10;        {&#10;            return await _collection.Find(predicate).ToListAsync();&#10;        }&#10;&#10;        public async Task AddAsync(T entity)&#10;        {&#10;            await _collection.InsertOneAsync(entity);&#10;        }&#10;&#10;        public async Task UpdateAsync(string id, T entity)&#10;        {&#10;            var filter = Builders&lt;T&gt;.Filter.Eq(&quot;_id&quot;, ObjectId.Parse(id));&#10;            await _collection.ReplaceOneAsync(filter, entity);&#10;        }&#10;&#10;        public async Task DeleteAsync(string id)&#10;        {&#10;            var filter = Builders&lt;T&gt;.Filter.Eq(&quot;_id&quot;, ObjectId.Parse(id));&#10;            await _collection.DeleteOneAsync(filter);&#10;        }&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="using MongoDB.Bson;&#10;using MongoDB.Driver;&#10;using System.Linq.Expressions;&#10;&#10;namespace Somo.Server.Repositories&#10;{&#10;    public class MongoRepository&lt;T&gt; : IRepository&lt;T&gt; where T : class&#10;    {&#10;        private readonly IMongoCollection&lt;T&gt; _collection;&#10;&#10;        public MongoRepository(IMongoDatabase database, string collectionName)&#10;        {&#10;            _collection = database.GetCollection&lt;T&gt;(collectionName);&#10;        }&#10;&#10;        public async Task&lt;IEnumerable&lt;T&gt;&gt; GetAllAsync()&#10;        {&#10;            return await _collection.Find(new BsonDocument()).ToListAsync();&#10;        }&#10;&#10;        public async Task&lt;T&gt; GetByIdAsync(string id)&#10;        {&#10;            var filter = Builders&lt;T&gt;.Filter.Eq(&quot;_id&quot;, ObjectId.Parse(id));&#10;            return await _collection.Find(filter).FirstOrDefaultAsync();&#10;        }&#10;&#10;        public async Task CreateAsync(T entity)&#10;        {&#10;            await _collection.InsertOneAsync(entity);&#10;        }&#10;&#10;        public async Task UpdateAsync(string id, T entity)&#10;        {&#10;            var filter = Builders&lt;T&gt;.Filter.Eq(&quot;_id&quot;, ObjectId.Parse(id));&#10;            await _collection.ReplaceOneAsync(filter, entity);&#10;        }&#10;&#10;        public async Task RemoveAsync(string id)&#10;        {&#10;            var filter = Builders&lt;T&gt;.Filter.Eq(&quot;_id&quot;, ObjectId.Parse(id));&#10;            await _collection.DeleteOneAsync(filter);&#10;        }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/Repositories/UserAccountRepository.cs">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/Repositories/UserAccountRepository.cs" />
              <option name="updatedContent" value="using MongoDB.Driver;&#10;using Somo.Server.Entities;&#10;&#10;namespace Somo.Server.Repositories&#10;{&#10;    public class UserAccountRepository : MongoRepository&lt;UserAccount&gt;, IUserAccountRepository&#10;    {&#10;        public UserAccountRepository(IMongoDatabase database) : base(database, &quot;UserAccounts&quot;)&#10;        {&#10;        }&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/Services/DbSeeder.cs">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/Services/DbSeeder.cs" />
              <option name="originalContent" value="using Microsoft.AspNetCore.Builder;&#10;using Microsoft.Extensions.DependencyInjection;&#10;using MongoDB.Driver;&#10;using Somo.Server.Entities;&#10;&#10;namespace Somo.Server.Services&#10;{&#10;    public static class DbSeeder&#10;    {&#10;        public static async Task InitializeAsync(IApplicationBuilder app)&#10;        {&#10;            using var scope = app.ApplicationServices.CreateScope();&#10;            var database = scope.ServiceProvider.GetRequiredService&lt;IMongoDatabase&gt;();&#10;&#10;            // Ensure unique index on 'CNP' for Clients collection&#10;            var clientsCollection = database.GetCollection&lt;Client&gt;(&quot;Clients&quot;);&#10;            var clientIndexKeys = Builders&lt;Client&gt;.IndexKeys.Ascending(c =&gt; c.CNP);&#10;            var clientIndexModel = new CreateIndexModel&lt;Client&gt;(clientIndexKeys, new CreateIndexOptions { Unique = true });&#10;            await clientsCollection.Indexes.CreateOneAsync(clientIndexModel);&#10;&#10;            // Ensure unique index on 'Email' for Users collection&#10;            var usersCollection = database.GetCollection&lt;UserAccount&gt;(&quot;UserAccounts&quot;);&#10;            var userIndexKeys = Builders&lt;UserAccount&gt;.IndexKeys.Ascending(u =&gt; u.Email);&#10;            var userIndexModel = new CreateIndexModel&lt;UserAccount&gt;(userIndexKeys, new CreateIndexOptions { Unique = true });&#10;            await usersCollection.Indexes.CreateOneAsync(userIndexModel);&#10;&#10;            // Seed default Super Admin user if the Users collection is empty&#10;            if (!await usersCollection.Find(_ =&gt; true).AnyAsync())&#10;            {&#10;                var superAdmin = new UserAccount&#10;                {&#10;                    Username = &quot;superadmin&quot;,&#10;                    Email = &quot;admin@example.com&quot;,&#10;                    PasswordHash = BCrypt.Net.BCrypt.HashPassword(&quot;SuperSecurePassword123&quot;), // Hash the password&#10;                    IsActive = true&#10;                };&#10;                await usersCollection.InsertOneAsync(superAdmin);&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;" />
              <option name="updatedContent" value="using Microsoft.AspNetCore.Builder;&#10;using Microsoft.Extensions.DependencyInjection;&#10;using MongoDB.Driver;&#10;using Somo.Server.Entities;&#10;using BCrypt.Net; // Ensure this namespace is imported&#10;&#10;namespace Somo.Server.Services&#10;{&#10;    public static class DbSeeder&#10;    {&#10;        public static async Task InitializeAsync(IApplicationBuilder app)&#10;        {&#10;            using var scope = app.ApplicationServices.CreateScope();&#10;            var database = scope.ServiceProvider.GetRequiredService&lt;IMongoDatabase&gt;();&#10;&#10;            // Ensure unique index on 'CNP' for Clients collection&#10;            var clientsCollection = database.GetCollection&lt;Client&gt;(&quot;Clients&quot;);&#10;            var clientIndexKeys = Builders&lt;Client&gt;.IndexKeys.Ascending(c =&gt; c.CNP);&#10;            var clientIndexModel = new CreateIndexModel&lt;Client&gt;(clientIndexKeys, new CreateIndexOptions { Unique = true });&#10;            await clientsCollection.Indexes.CreateOneAsync(clientIndexModel);&#10;&#10;            // Ensure unique index on 'Email' for Users collection&#10;            var usersCollection = database.GetCollection&lt;UserAccount&gt;(&quot;UserAccounts&quot;);&#10;            var userIndexKeys = Builders&lt;UserAccount&gt;.IndexKeys.Ascending(u =&gt; u.Email);&#10;            var userIndexModel = new CreateIndexModel&lt;UserAccount&gt;(userIndexKeys, new CreateIndexOptions { Unique = true });&#10;            await usersCollection.Indexes.CreateOneAsync(userIndexModel);&#10;&#10;            // Seed default Super Admin user if the Users collection is empty&#10;            if (!await usersCollection.Find(_ =&gt; true).AnyAsync())&#10;            {&#10;                var superAdmin = new UserAccount&#10;                {&#10;                    Username = &quot;superadmin&quot;,&#10;                    Email = &quot;admin@example.com&quot;,&#10;                    PasswordHash = BCrypt.Net.BCrypt.HashPassword(&quot;SuperSecurePassword123&quot;), // Hash the password&#10;                    IsActive = true&#10;                };&#10;                await usersCollection.InsertOneAsync(superAdmin);&#10;            }&#10;        }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>